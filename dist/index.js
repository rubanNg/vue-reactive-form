(()=>{"use strict";var t={d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{AbstractControl:()=>r,FormArray:()=>l,FormControl:()=>n,FormGroup:()=>u,Validators:()=>o});const a=require("vue");class r{constructor(t,e){this._errors=(0,a.reactive)({value:{}}),this._parent=(0,a.reactive)({value:null}),this._validators=(0,a.reactive)({value:[]}),this._asyncValidators=(0,a.reactive)({value:[]}),this._dirty=(0,a.reactive)({value:!1}),this._hasOwnPendingAsyncValidator=(0,a.reactive)({value:!1}),this._existingCancelableAsyncValidators=[],this._validators.value=t,this._asyncValidators.value=e}get validators(){return this._validators.value}get asyncValidators(){return this._asyncValidators.value}get invalid(){return!1===this.valid}get errors(){return this._errors.value}get parent(){return this._parent.value}get dirty(){return this._dirty.value}get root(){let t=this;for(;null==t?void 0:t.parent;)t=t.parent;return t}get pending(){return this._hasOwnPendingAsyncValidator.value}setValidators(t,e=!1){this._validators.value=t,e&&this.updateValidity({updateParentValidity:e,runAsyncValidators:!1})}addValidators(t,e=!1){const a=function(t,e){return e.reduce(((e,a)=>t.validators.some((t=>t===a))?e:[a,...e]),[])}(this,t);this._validators.value.push(...a),e&&this.updateValidity({updateParentValidity:e,runAsyncValidators:!1})}removeValidators(t,e=!1){this._validators.value=this._validators.value.filter((e=>!t.some((t=>t===e||t.name===e.name)))),e&&this.updateValidity({updateParentValidity:e,runAsyncValidators:!1})}clearValidators(t=!1){this._validators.value=[],t&&this.updateValidity({updateParentValidity:t,runAsyncValidators:!1})}hasValidator(t){return"string"==typeof t?this._validators.value.some((e=>e.name==t)):this._validators.value.includes(t)}setAsyncValidators(t,e=!1){this._asyncValidators.value=t,e&&this.updateValidity({updateParentValidity:e,runAsyncValidators:!1})}addAsyncValidators(t,e=!1){const a=(r=this,t.reduce(((t,e)=>r.asyncValidators.some((t=>t===e))?t:[e,...t]),[]));var r;this.asyncValidators.push(...a),e&&this.updateValidity({updateParentValidity:e,runAsyncValidators:!1})}removeAsyncValidators(t,e=!1){this._asyncValidators.value=this.asyncValidators.filter((e=>!t.some((t=>t===e||t.name===e.name)))),e&&this.updateValidity({updateParentValidity:e,runAsyncValidators:!1})}clearAsyncValidators(t=!1){this._asyncValidators.value=[],t&&this.updateValidity({updateParentValidity:t,runAsyncValidators:!1})}hasAsyncValidator(t){return"string"==typeof t?this.asyncValidators.some((e=>e.name==t)):this.asyncValidators.includes(t)}hasError(t){return t in this._errors.value}hasErrors(t){return t.every((t=>t in this._errors.value))}hasAnyError(t){return t.some((t=>t in this._errors.value))}setErrors(t){this._errors.value=Object.assign({},t)}addErrors(t){this._errors.value=Object.assign(Object.assign({},this._errors.value),t)}getErrors(t){return t.reduce(((t,e)=>(t[e]=this._errors.value[e],t)),{})}removeErrors(t){this._errors.value=Object.keys(this._errors.value).reduce(((e,a)=>(t.includes(a)||(e[a]=this._errors.value[a]),e)),{})}clearErrors(){this._errors.value={}}get(t){return null}setParent(t){this._parent.value=t}setDirty(t,e=!1){this._dirty.value=t,this.parent&&e&&this.parent.setDirty(t,e)}updateValidity({updateParentValidity:t=!0,runAsyncValidators:e=!0}={}){var a;this._cancelExistingAsyncValidator(),this._errors.value=this._validators.value.reduce(((t,e)=>Object.assign(Object.assign({},t),e(this))),{}),this.valid&&e&&this._runAsyncValidators(),t&&(null===(a=this.parent)||void 0===a||a.updateValidity({updateParentValidity:t,runAsyncValidators:e}))}_runAsyncValidators(){this._hasOwnPendingAsyncValidator.value=!0,this._existingCancelableAsyncValidators=this._asyncValidators.value.map((t=>this._makeCancelableAsyncValidator(t))),Promise.allSettled(this._existingCancelableAsyncValidators).then((t=>{const e=t.reduce(((e,a)=>(console.log(t),"fulfilled"===a.status?Object.assign(Object.assign({},e),a.value):e)),{});this._hasOwnPendingAsyncValidator.value=!1,this._errors.value=e,this._existingCancelableAsyncValidators=[]}))}_makeCancelableAsyncValidator(t){const e=new AbortController,a=new Promise(((a,r)=>{e.signal.addEventListener("abort",(()=>{r(null)})),t(this,e).then((t=>{a(t)}))}));return a.cancel=()=>{e.abort()},a}_cancelExistingAsyncValidator(){this._existingCancelableAsyncValidators.forEach((t=>{t.cancel()})),this._hasOwnPendingAsyncValidator.value=!1}}function s(t,e){return null==t?void 0:t[e]}function i(t,e){if(!t)return null;let a=t;const r="string"==typeof e?e.split("."):e;for(const t of r){const e=s(null==a?void 0:a.controls,t);if(!e)return null;a=e}return a}class l extends r{constructor(t,e=[],r=[]){super(e,r),this._controls=(0,a.reactive)({value:[]}),this._controls.value=this._setUpControls(t),this.updateDynamicProperties(),this.updateValidity({updateParentValidity:!1,runAsyncValidators:!1})}get controls(){return this._controls.value}get value(){return this._controls.value.map((t=>t.value))}get valid(){const t=0===Object.values(this.errors).length,e=Object.values(this._controls.value).every((t=>t.valid));return t&&e}get(t){return i(this,t)}addControl(t,{updateParentValidity:e=!0,runAsyncValidators:a=!1,updateParentDirty:r=!0}={}){t.setParent(this),this._controls.value.push(t),this.updateDynamicProperties(),this.updateValidity({updateParentValidity:e,runAsyncValidators:a}),this.setDirty(!0,r)}addControls(t,{updateParentValidity:e=!0,runAsyncValidators:a=!1,updateParentDirty:r=!0}={}){t.forEach((t=>{t.setParent(this),this._controls.value.push(t)})),this.updateDynamicProperties(),this.updateValidity({updateParentValidity:e,runAsyncValidators:a}),this.setDirty(!0,r)}setControl(t,e,{updateParentValidity:a=!0,runAsyncValidators:r=!1,updateParentDirty:s=!0}={}){this.at(t)&&(this._controls.value[t]=e,this._controls.value[t].setParent(this),this.updateValidity({updateParentValidity:a,runAsyncValidators:r}),this.setDirty(!0,s))}setValue(t,{updateParentValidity:e=!0,runAsyncValidators:a=!0,updateParentDirty:r=!0}={}){this._controls.value.forEach(((r,s)=>{r.setValue(t[s],{updateParentValidity:e,runAsyncValidators:a})})),this.setDirty(!0,r)}at(t){return this._controls.value.at(t)}firstChild(){return this._controls.value.at(0)}lastLast(){return this._controls.value.at(-1)}contains(t){return!!this.at(t)}removeAt(t,{updateParentValidity:e=!0,runAsyncValidators:a=!1,updateParentDirty:r=!0}={}){this._controls.value.splice(t,1),this.updateDynamicProperties(),this.updateValidity({updateParentValidity:e,runAsyncValidators:a}),this.setDirty(!0,r)}reset(){for(const t of this._controls.value)t.reset();this.clearErrors()}updateAt(t,e,{updateParentValidity:a=!0,runAsyncValidators:r=!0,updateParentDirty:s=!0}={}){this.at(t).setValue(e,{updateParentValidity:a,runAsyncValidators:r}),this.setDirty(!0,s)}_setUpControls(t){return t.map((t=>(t.setParent(this),t)))}updateDynamicProperties(){const t=this._controls.value.reduce(((t,e,a)=>(t[a]={get:()=>this._controls.value[a],configurable:!0,enumerable:!0},t)),{});Object.defineProperties(this,t)}}class n extends r{constructor(t=void 0,e=[],r=[]){super(e,r),this._value=(0,a.reactive)({value:void 0}),this._listiners=[],this._initialValue=void 0,this._value.value=t,this._initialValue=t,this.updateValidity({updateParentValidity:!1,runAsyncValidators:!1})}get value(){return this._value.value}set value(t){this.setValue(t)}get valid(){return 0===Object.keys(this.errors).length}get valueChange(){const t=t=>{this._listiners=this._listiners.filter((e=>e!==t))};return{subscribe:e=>(this._listiners.push(e),()=>{t(e)}),unsubscribe:t}}reset(){this._value.value=this._initialValue,this.setDirty(!1),this.clearErrors()}setValue(t,{updateParentValidity:e=!0,runAsyncValidators:a=!0,updateParentDirty:r=!0}={}){this._value.value=t,this._listiners.forEach((t=>t(this._value.value))),this.updateValidity({updateParentValidity:e,runAsyncValidators:a}),this.setDirty(!0,r)}}class u extends r{constructor(t,e=[],r=[]){super(e,r),this._controls=(0,a.reactive)({value:{}}),this._setUpControls(t),this.updateDynamicProperties(),this.updateValidity({updateParentValidity:!1,runAsyncValidators:!1})}get valid(){const t=0===Object.keys(this.errors).length,e=Object.values(this._controls.value).every((t=>t.valid));return t&&e}get controls(){return this._controls.value}get value(){return Object.entries(this._controls.value).reduce(((t,[e,a])=>Object.assign(Object.assign({},t),{[e]:a.value})),{})}addControl(t,e,{updateParentValidity:a=!0,runAsyncValidators:r=!1,updateParentDirty:s=!0}={}){this._setUpControls({[t]:e}),this.updateDynamicProperties(),this.updateValidity({updateParentValidity:a,runAsyncValidators:r}),this.setDirty(!0,s)}get(t){return i(this,t)}setControl(t,e,{updateParentValidity:a=!0,runAsyncValidators:r=!1,updateParentDirty:s=!0}={}){t in this._controls.value&&(this._setUpControls({[t]:e}),this.updateDynamicProperties(),this.updateValidity({updateParentValidity:a,runAsyncValidators:r}),this.setDirty(!0,s))}setValue(t,{updateParentValidity:e=!0,runAsyncValidators:a=!0,updateParentDirty:r=!0}={}){Object.entries(t).forEach((([t,s])=>{this._controls.value[t].setValue(s,{updateParentValidity:e,runAsyncValidators:a,updateParentDirty:r})}))}removeControl(t,{updateParentValidity:e=!0,runAsyncValidators:a=!0,updateParentDirty:r=!0}={}){delete this._controls.value[t],this.updateDynamicProperties(),this.updateValidity({updateParentValidity:e,runAsyncValidators:a}),this.setDirty(!0,r)}at(t){return this._controls.value[t]}contains(t){return t in this._controls.value}reset(){Object.values(this._controls.value).forEach((t=>{t.reset()})),this.clearErrors()}_setUpControls(t){Object.entries(t).forEach((([t,e])=>{this._controls.value[t]=e,this._controls.value[t].setParent(this)}))}updateDynamicProperties(){const t=Object.keys(this._controls.value).reduce(((t,e)=>(t[e]={get:()=>this._controls.value[e],configurable:!0,enumerable:!0},t)),{});Object.defineProperties(this,t)}}class o{static required(t){var e;return[0===(null===(e=t.value)||void 0===e?void 0:e.length),null===(null==t?void 0:t.value),void 0===(null==t?void 0:t.value)].some((t=>!0===t))?{required:"value is a required"}:null}static max(t){return function(e){return e.value>t?{max:`value must be less than or equal to ${t}`}:null}}static min(t){return function(e){return e.value>=t?null:{min:`value must be greater than or equal to ${t}`}}}static maxLength(t){return function(e){var a;return(null===(a=e.value)||void 0===a?void 0:a.length)<=t?null:{maxLength:`value length must be less than or equal to ${t}`}}}static minLength(t){return function(e){var a;return(null===(a=e.value)||void 0===a?void 0:a.length)<t?{minLength:`value length must be greater than or equal to ${t}`}:null}}static email(t){var e;return(null===(e=t.value.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/gi))||void 0===e?void 0:e.length)>0?null:{email:"value must be a valid email"}}}var d=exports;for(var c in e)d[c]=e[c];e.__esModule&&Object.defineProperty(d,"__esModule",{value:!0})})();